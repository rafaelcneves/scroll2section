(()=>{var t,e;t=jQuery,e=function(e,i){window.matchMedia("(max-width: 767px)").matches,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent),t(e).data();var o=t(window),a=t(e),r=i.offsetTop||0,s=!0,n=t(i.menu),l=n.find("a[data-section]"),c=[],h=null,d=(t(document).scrollTop(),o.scrollTop(),t("body").hasClass("affix"));function f(t){var e=l.filter("[href$='#!"+t+"']");l.not(e).closest(i.activeParent).removeClass(i.activeClass),e.closest(i.activeParent).addClass(i.activeClass),n.trigger("update",e),s=!0}if(l.each((function(){var e=t(this).attr("href").toString().str2Hash().clearHash();c.push(e)})),a.each((function(){var e=t(this);o.scroll((function(){var i;if(e.offset().top,d&&(r=n.outerHeight()),o.scrollTop()+r>=e.offset().top&&e.offset().top+e.height()-r>o.scrollTop()&&s){var a=e.attr("id"),l=(i=a,-1!=c.indexOf(i));if(!a.length||h==="#!"+a||!l)return!0;h="#!"+a,t("body").trigger("visibleSection",a),f(a),window.history&&window.history.pushState&&history.pushState("",document.title,h)}}))})),l.click((function(e){s=!1;var o=t(this),a=o.attr("href").str2Hash().clearHash();return!a||(o.closest(i.activeParent).addClass(i.activeClass),f(a),function(e){var o=t("#"+e);if(o.length>0){var a=o.attr("data-padding")||0,n=o.offset().top-parseInt(a)-r;s=!1,t("body").addClass("scrolling"),t("html, body").stop().animate({scrollTop:n},i.duration,(function(){var i="#!"+e;t("body").removeClass("scrolling"),t("body").trigger("afterScolling",e),window.history&&window.history.pushState&&(history.pushState("",document.title,i),f(e),s=!0)}))}}(a),e.preventDefault(),!1)})),window.location.hash){h=window.location.hash.clearHash();var u=l.filter("[href$='#!"+h+"']");1==u.length&&u.trigger("click"),s=!1}return n},String.prototype.clearHash=function(t){return this.replace("#!","")},String.prototype.str2Hash=function(t){var e=this.indexOf("#!");if(-1==e)return this;var i=this.length;return this.slice(e,i)},t.fn.scroll2Section=function(i){return i=t.extend({},t.fn.scroll2Section.options,i),t(this).hasClass("loaded")?this:new e(this,i)},t.fn.scroll2Section.options={menu:"#menu",offSetTop:0,activeClass:"active",activeParent:"li",duration:1e3}})();